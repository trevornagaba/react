{"version":3,"sources":["App.js","index.js"],"names":["mapStyles","width","height","MapContainer","_Component","_getPrototypeOf2","_this","Object","classCallCheck","this","_len","arguments","length","args","Array","_key","possibleConstructorReturn","getPrototypeOf","call","apply","concat","state","markerClicked","showingInfoWindow","activeMarker","selectedPlace","onMarkerClick","props","marker","e","setState","onMouseoverMarker","onMouseoutMarker","onClose","getDrivers","driver_list","id","ambulance_owner","ambulance_tier","licence_plate","status","location","phone_number","n","renderAmbulance","inherits","createClass","key","value","driver","split","react_default","a","createElement","dist","onMouseover","onClick","onMouseout","name","position","lat","lng","visible","google","zoom","style","initialCenter","Component","GoogleApiWrapper","apiKey","ReactDOM","render","App","document","getElementById"],"mappings":"uNAIMA,SAAY,CACdC,MAAO,OACPC,OAAQ,SAKCC,EAAb,SAAAC,GAAA,SAAAD,IAAA,IAAAE,EAAAC,EAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAN,GAAA,QAAAO,EAAAC,UAAAC,OAAAC,EAAA,IAAAC,MAAAJ,GAAAK,EAAA,EAAAA,EAAAL,EAAAK,IAAAF,EAAAE,GAAAJ,UAAAI,GAAA,OAAAT,EAAAC,OAAAS,EAAA,EAAAT,CAAAE,MAAAJ,EAAAE,OAAAU,EAAA,EAAAV,CAAAJ,IAAAe,KAAAC,MAAAd,EAAA,CAAAI,MAAAW,OAAAP,MACIQ,MAAQ,CACJC,eAAe,EACfC,mBAAmB,EACnBC,aAAc,GACdC,cAAe,IALvBnB,EAQIoB,cAAgB,SAACC,EAAOC,EAAQC,GAC5BvB,EAAKwB,SAAS,CACVR,eAAe,KAV3BhB,EAcIyB,kBAAoB,SAACJ,EAAOC,EAAQC,GAC3BvB,EAAKe,MAAME,mBACZjB,EAAKwB,SAAS,CACVL,cAAeE,EACfH,aAAcI,EACdL,mBAAmB,KAnBnCjB,EAwBI0B,iBAAmB,SAAAL,GACVrB,EAAKe,MAAMC,eACRhB,EAAKe,MAAME,mBACXjB,EAAKwB,SAAS,CACVP,mBAAmB,EACnBC,aAAc,QA7BlClB,EAmCI2B,QAAU,SAAAN,GACFrB,EAAKe,MAAME,mBACXjB,EAAKwB,SAAS,CACVR,eAAe,EACfC,mBAAmB,EACnBC,aAAc,QAxC9BlB,EA6CI4B,WAAa,WA+BT,IAVA,IAAIC,EAAc,CACV,CAACC,GAAM,EAAGC,gBAAmB,OAAQC,eAAkB,QAASC,cAAiB,WAAYC,OAAU,SACvGC,SAAY,sBAAuBC,aAAgB,cACnD,CAACN,GAAM,EAAGC,gBAAmB,OAAQC,eAAkB,WAAYC,cAAiB,WAAYC,OAAU,SAC1GC,SAAY,uBAAwBC,aAAgB,cACpD,CAACN,GAAM,EAAGC,gBAAmB,OAAQC,eAAkB,QAASC,cAAiB,WAAYC,OAAU,YACvGC,SAAY,uBAAwBC,aAAgB,cACpD,CAACN,GAAM,EAAGC,gBAAmB,OAAQC,eAAkB,QAASC,cAAiB,WAAYC,OAAU,YACvGC,SAAY,uBAAwBC,aAAgB,eAEnDC,EAAI,EAAGA,EAAIR,EAAYvB,OAAQ+B,IACpCrC,EAAKsC,gBAAgBT,EAAYQ,KA7E7CrC,EAAA,OAAAC,OAAAsC,EAAA,EAAAtC,CAAAJ,EAAAC,GAAAG,OAAAuC,EAAA,EAAAvC,CAAAJ,EAAA,EAAA4C,IAAA,kBAAAC,MAAA,SAiFoBC,GACZ,IAAIR,EAAWQ,EAAM,SAAaC,MAAM,KACpCR,EAAeO,EAAM,aACzB,OACIE,EAAAC,EAAAC,cAAA,WACIF,EAAAC,EAAAC,cAACC,EAAA,OAAD,CACIC,YAAa9C,KAAKsB,kBAClByB,QAAS/C,KAAKiB,cACd+B,WAAYhD,KAAKuB,iBACjB0B,KAAMhB,EAINiB,SAAU,CAAEC,IAAKnB,EAAS,GAAIoB,IAAKpB,EAAS,MAEhDU,EAAAC,EAAAC,cAACC,EAAA,WAAD,CACI1B,OAAQnB,KAAKY,MAAMG,aACnBsC,QAASrD,KAAKY,MAAME,kBACpBU,QAASxB,KAAKwB,SAEdkB,EAAAC,EAAAC,cAAA,WACIF,EAAAC,EAAAC,cAAA,UAAK5C,KAAKY,MAAMI,cAAciC,WAtGtD,CAAAX,IAAA,oBAAAC,MAAA,eAAAD,IAAA,SAAAC,MAAA,WAkHQ,OACIG,EAAAC,EAAAC,cAACC,EAAA,IAAD,CACIS,OAAQtD,KAAKkB,MAAMoC,OACnBC,KAAM,GACNC,MAAOjE,EACPkE,cAAe,CACXN,IAAK,QACLC,IAAK,WAGTV,EAAAC,EAAAC,cAAA,WACK5C,KAAKyB,mBA7H1B/B,EAAA,CAAkCgE,aAoInBC,6BAAiB,CAC5BC,OAAQ,2CADGD,CAEZjE,GC7IHmE,IAASC,OAAOpB,EAAAC,EAAAC,cAACmB,EAAD,MAASC,SAASC,eAAe","file":"static/js/main.ac1a9131.chunk.js","sourcesContent":["import React, { Component } from 'react';\nimport { Map, GoogleApiWrapper, InfoWindow, Marker } from 'google-maps-react';\nimport axios from 'axios';\n\nconst mapStyles = {\n    width: '100%',\n    height: '100%',\n    // display: 'flex',\n    // alignItems: 'right'\n};\n\nexport class MapContainer extends Component {\n    state = {\n        markerClicked: false,\n        showingInfoWindow: false,  //Hides or the shows the infoWindow\n        activeMarker: {},          //Shows the active marker upon click\n        selectedPlace: {}\n    };\n\n    onMarkerClick = (props, marker, e) => {\n        this.setState({\n            markerClicked: true\n        })\n    };\n\n    onMouseoverMarker = (props, marker, e) => {\n        if (!this.state.showingInfoWindow) {\n            this.setState({\n                selectedPlace: props,\n                activeMarker: marker,\n                showingInfoWindow: true\n            })\n        }\n    };\n\n    onMouseoutMarker = props => {\n        if (!this.state.markerClicked) {\n            if (this.state.showingInfoWindow) {\n                this.setState({\n                    showingInfoWindow: false,\n                    activeMarker: null\n                });\n            }\n        }\n    }\n\n    onClose = props => {\n        if (this.state.showingInfoWindow) {\n            this.setState({\n                markerClicked: false,\n                showingInfoWindow: false,\n                activeMarker: null\n            });\n        }\n    };\n\n    getDrivers = () => {\n         // // Uncomment after sorting our cors and err certificate is invalid\n            // // Also update the call with the map.html for Kampala map\n            // // Returns all available drivers\n            // axios.get('https://68.183.98.140/api/display_drivers')\n            //     .then(function (response) {\n            //         // handle success\n            //         let driver_list = []\n            //         driver_list = response.data['drivers']\n            //         for (var n = 0; n < driver_list.length; n++) {\n            //             this.renderAmbulance(driver_list[n])\n            //         }\n            //     })\n            //     .catch(function (error) {\n            //         // handle error\n            //         console.log(error);\n            //     })\n            //     .then(function () {\n            //         // always executed\n            //     });\n\n        let driver_list = [\n                {\"id\": 3, \"ambulance_owner\": \"KCCA\", \"ambulance_tier\": \"basic\", \"licence_plate\": \"UAZ 356D\", \"status\": \"ontrip\",\n                \"location\": \"0.299372, 32.568841\", \"phone_number\": \"0783425174\"},\n                {\"id\": 5, \"ambulance_owner\": \"KCCA\", \"ambulance_tier\": \"advanced\", \"licence_plate\": \"UG 5342T\", \"status\": \"ontrip\",\n                \"location\": \"0.3743234,32.6332207\", \"phone_number\": \"0782081501\"},\n                {\"id\": 4, \"ambulance_owner\": \"KCCA\", \"ambulance_tier\": \"basic\", \"licence_plate\": \"UAD 654R\", \"status\": \"available\",\n                \"location\": \"0.3202003,32.5777486\", \"phone_number\": \"0779177955\"},\n                {\"id\": 7, \"ambulance_owner\": \"KCCA\", \"ambulance_tier\": \"basic\", \"licence_plate\": \"UAS 674E\", \"status\": \"available\",\n                \"location\": \"0.2811616,32.6137769\", \"phone_number\": \"0776534231\"}\n        ]\n        for (var n = 0; n < driver_list.length; n++) {\n            this.renderAmbulance(driver_list[n])\n        }\n    }\n\n    renderAmbulance(driver) {\n        let location = driver['location'].split(\",\")\n        let phone_number = driver['phone_number']\n        return (\n            <div>\n                <Marker\n                    onMouseover={this.onMouseoverMarker}\n                    onClick={this.onMarkerClick}\n                    onMouseout={this.onMouseoutMarker}\n                    name={phone_number}\n                    // icon={{\n                    //   url: './public/static/icon.svg'\n                    // }}\n                    position={{ lat: location[0], lng: location[1] }}\n                />\n                <InfoWindow\n                    marker={this.state.activeMarker}\n                    visible={this.state.showingInfoWindow}\n                    onClose={this.onClose}\n                >\n                    <div>\n                        <h4>{this.state.selectedPlace.name}</h4>\n                    </div>\n                </InfoWindow>\n            </div>\n        )\n    }\n\n    componentDidMount() {\n\n    }\n\n    render() {\n        return (\n            <Map\n                google={this.props.google}\n                zoom={10}\n                style={mapStyles}\n                initialCenter={{\n                    lat: 0.135502,\n                    lng: 32.721040\n                }}\n            >\n                <div>\n                    {this.getDrivers()}\n                </div>\n            </Map>\n        );\n    }\n}\n\nexport default GoogleApiWrapper({\n    apiKey: 'AIzaSyDYXogTmMXbKU1OvVff0wo8wzAk83o7Fc0'\n})(MapContainer);\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));"],"sourceRoot":""}